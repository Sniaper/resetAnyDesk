# AnyDesk Configuration Reset Script

Скрипт для сброса состояния AnyDesk с сохранением пользовательской конфигурации. Полезен при устранении проблем с подключением, дублированием ID или сбоями после обновлений.

---

## Описание

Данный batch-скрипт выполняет очистку временных и кэшированных данных AnyDesk, предварительно сохраняя ключевой файл настроек пользователя — `user.conf`. После перезапуска программы конфигурация восстанавливается, что позволяет обновить внутреннее состояние AnyDesk без потери лицензии, ID или индивидуальных параметров.

---

## Важно: Используйте с осторожностью

**Резервное копирование:**  
Скрипт сохраняет файл `user.conf` в папку `backup` перед очисткой. Этот файл содержит уникальный идентификатор и настройки доступа.

**Не удаляет программу:**  
Удаляются только данные в директориях `%AppData%\AnyDesk` и `%ProgramData%\AnyDesk`, сама программа остаётся нетронутой.

**Рекомендация:**  
Запускайте скрипт от имени администратора, особенно если AnyDesk установлен системно.

---

## Как это работает?

1. Завершает процесс AnyDesk.
2. Удаляет все файлы в папке `%ProgramData%\AnyDesk\`.
3. Создаёт резервную папку: `backup`.
4. Копирует `user.conf` из `%AppData%\AnyDesk\` в резерв.
5. Очищает содержимое папки `%AppData%\AnyDesk\`.
6. Запускает AnyDesk для инициализации новых служб.
7. Ждёт 5 секунд.
8. Снова завершает процесс AnyDesk.
9. Восстанавливает `user.conf` из резерва.
10. Перезапускает AnyDesk с сохранёнными настройками.

---

## Как использовать

1. Сохраните следующий код в файл с расширением `.bat`, например: `reset_anydesk.bat`.
2. Рекомендуется вручную скопировать `user.conf` перед первым запуском.
3. Запустите файл от имени администратора.

---

## Предупреждения

- Убедитесь, что AnyDesk не используется в момент запуска скрипта.
- В корпоративных средах или при использовании централизованного управления — согласуйте действия с администратором.
- Подходит для локальных установок AnyDesk с путём по умолчанию.

---

## Совместимость

- Операционные системы: Windows 7, 8, 10, 11
- Установка AnyDesk: стандартная (в `%ProgramFiles(x86)%\AnyDesk\`)

---

## Лицензия

Скрипт предоставляется "как есть", без гарантий работоспособности.  
Автор не несёт ответственности за возможные последствия использования.

---

Автор: Sniaper  
При необходимости — создайте issue или pull request для улучшения скрипта.
